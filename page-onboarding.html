<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>完善偏好设置 - 即刻出行</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 自定义样式 - 参考Mount Bromo设计 */
        .gradient-bg {
            background: linear-gradient(135deg, #ff8a65 0%, #ffab40 50%, #ff7043 100%);
        }
        
        .warm-gradient {
            background: linear-gradient(135deg, #ff8a80 0%, #ffab40 50%, #ff7043 100%);
        }
        
        .sunset-gradient {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #ff7043 0%, #ff8a65 25%, #ffab40 50%, #ffcc02 75%, #ff6b6b 100%);
        }
        
        /* 页面背景 */
        body {
            background: linear-gradient(135deg, #fef7f0 0%, #fff3e0 100%);
        }
        
        /* 圆角按钮 */
        .rounded-btn {
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        
        .rounded-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }
        
        /* 卡片样式 */
        .onboarding-card {
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.1);
            transition: all 0.4s ease;
        }
        
        .onboarding-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(255, 107, 107, 0.2);
        }
        
        /* 兴趣标签样式 */
        .interest-tag {
            border-radius: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .interest-tag:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .interest-tag.selected {
            background: linear-gradient(135deg, #ff8a65, #ffab40);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        
        /* 单选按钮样式 */
        .radio-option {
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .radio-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.2);
        }
        
        .radio-option.selected {
            background: linear-gradient(135deg, #ff8a65, #ffab40);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        /* 进度条样式 */
        .progress-bar {
            background: linear-gradient(135deg, #ff8a65, #ffab40);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        /* 步骤指示器 */
        .step-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .step-indicator.active {
            background: linear-gradient(135deg, #ff8a65, #ffab40);
            color: white;
        }
        
        .step-indicator.completed {
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
        }
        
        .step-indicator.inactive {
            background: #E5E7EB;
            color: #9CA3AF;
        }
    </style>
</head>
<body>
    <div class="min-h-screen p-6">
        <!-- 页面头部 -->
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-8 fade-in">
                <div class="w-20 h-20 hero-gradient rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-cog text-white text-3xl"></i>
                </div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">完善您的偏好，获得更精准的推荐</h1>
                <p class="text-orange-600">只需几分钟，让我们更好地了解您的旅行喜好</p>
            </div>
            
            <!-- 进度条 -->
            <div class="mb-8 fade-in">
                <div class="flex items-center justify-center space-x-4 mb-4">
                    <div class="step-indicator active">1</div>
                    <div class="w-16 h-1 bg-gray-200 rounded-full">
                        <div class="progress-bar h-full" style="width: 33%"></div>
                    </div>
                    <div class="step-indicator inactive">2</div>
                    <div class="w-16 h-1 bg-gray-200 rounded-full">
                        <div class="progress-bar h-full" style="width: 0%"></div>
                    </div>
                    <div class="step-indicator inactive">3</div>
                </div>
                <p class="text-center text-sm text-gray-600">步骤 1 / 3 - 选择您的兴趣偏好</p>
            </div>
            
            <!-- 主要内容区域 -->
            <div class="bg-white onboarding-card p-8 fade-in">
                <!-- 感兴趣的目的地类型 -->
                <div class="mb-8">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">
                        <i class="fas fa-heart text-orange-500 mr-2"></i>您感兴趣的目的地类型
                    </h2>
                    <p class="text-gray-600 mb-6">选择您喜欢的旅行类型，我们将为您推荐相关的内容（可多选）</p>
                    
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="city">
                            <i class="fas fa-city text-2xl mb-2 text-blue-500"></i>
                            <div class="font-medium">城市探索</div>
                            <div class="text-sm text-gray-500">现代都市风情</div>
                        </div>
                        
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="nature">
                            <i class="fas fa-mountain text-2xl mb-2 text-green-500"></i>
                            <div class="font-medium">自然风光</div>
                            <div class="text-sm text-gray-500">山水田园美景</div>
                        </div>
                        
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="food">
                            <i class="fas fa-utensils text-2xl mb-2 text-red-500"></i>
                            <div class="font-medium">美食之旅</div>
                            <div class="text-sm text-gray-500">品尝地道美味</div>
                        </div>
                        
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="culture">
                            <i class="fas fa-landmark text-2xl mb-2 text-purple-500"></i>
                            <div class="font-medium">历史文化</div>
                            <div class="text-sm text-gray-500">感受历史底蕴</div>
                        </div>
                        
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="shopping">
                            <i class="fas fa-shopping-bag text-2xl mb-2 text-pink-500"></i>
                            <div class="font-medium">购物天堂</div>
                            <div class="text-sm text-gray-500">尽情购物体验</div>
                        </div>
                        
                        <div class="interest-tag p-4 border border-gray-200 text-center" data-interest="relax">
                            <i class="fas fa-spa text-2xl mb-2 text-yellow-500"></i>
                            <div class="font-medium">休闲度假</div>
                            <div class="text-sm text-gray-500">放松身心享受</div>
                        </div>
                    </div>
                </div>
                
                <!-- 出行预算偏好 -->
                <div class="mb-8">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">
                        <i class="fas fa-wallet text-orange-500 mr-2"></i>您的出行预算偏好
                    </h2>
                    <p class="text-gray-600 mb-6">选择您通常的旅行预算范围，帮助我们为您推荐合适的方案</p>
                    
                    <div class="space-y-4">
                        <div class="radio-option p-4 border border-gray-200" data-budget="economy">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-coins text-green-600 text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-semibold text-gray-800">经济型</div>
                                    <div class="text-sm text-gray-600">每天预算 < 500元</div>
                                    <div class="text-xs text-gray-500">青旅、经济酒店、公共交通</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200" data-budget="comfort">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-bed text-blue-600 text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-semibold text-gray-800">舒适型</div>
                                    <div class="text-sm text-gray-600">每天预算 500-1000元</div>
                                    <div class="text-xs text-gray-500">舒适酒店、特色餐厅、便捷交通</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200" data-budget="luxury">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                    <i class="fas fa-crown text-purple-600 text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-semibold text-gray-800">奢侈型</div>
                                    <div class="text-sm text-gray-600">每天预算 > 1000元</div>
                                    <div class="text-xs text-gray-500">豪华酒店、顶级餐厅、专车服务</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 出行同伴 -->
                <div class="mb-8">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">
                        <i class="fas fa-users text-orange-500 mr-2"></i>您通常的出行同伴
                    </h2>
                    <p class="text-gray-600 mb-6">了解您的出行习惯，为您推荐合适的活动和住宿</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="radio-option p-4 border border-gray-200 text-center" data-companion="solo">
                            <i class="fas fa-user text-3xl mb-3 text-gray-500"></i>
                            <div class="font-semibold text-gray-800">独自一人</div>
                            <div class="text-sm text-gray-600">享受独行的自由</div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200 text-center" data-companion="couple">
                            <i class="fas fa-heart text-3xl mb-3 text-red-500"></i>
                            <div class="font-semibold text-gray-800">伴侣</div>
                            <div class="text-sm text-gray-600">浪漫的二人世界</div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200 text-center" data-companion="friends">
                            <i class="fas fa-user-friends text-3xl mb-3 text-blue-500"></i>
                            <div class="font-semibold text-gray-800">朋友</div>
                            <div class="text-sm text-gray-600">与好友一起探索</div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200 text-center" data-companion="family">
                            <i class="fas fa-home text-3xl mb-3 text-green-500"></i>
                            <div class="font-semibold text-gray-800">家人</div>
                            <div class="text-sm text-gray-600">温馨的家庭时光</div>
                        </div>
                        
                        <div class="radio-option p-4 border border-gray-200 text-center" data-companion="colleagues">
                            <i class="fas fa-briefcase text-3xl mb-3 text-purple-500"></i>
                            <div class="font-semibold text-gray-800">同事</div>
                            <div class="text-sm text-gray-600">商务或团建出行</div>
                        </div>
                    </div>
                </div>
                
                <!-- 完成按钮 -->
                <div class="text-center">
                    <button id="complete-onboarding" 
                            class="rounded-btn gradient-bg text-white px-12 py-4 font-semibold text-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300">
                        <i class="fas fa-rocket mr-2"></i>完成设置，开始探索
                    </button>
                </div>
            </div>
            
            <!-- 底部说明 -->
            <div class="text-center mt-8 fade-in">
                <p class="text-sm text-gray-600">
                    <i class="fas fa-shield-alt text-green-500 mr-1"></i>
                    您的偏好设置将被安全保存，您可以随时在个人中心修改
                </p>
            </div>
        </div>
    </div>
    
    <script>
        // 兴趣标签选择
        document.querySelectorAll('.interest-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                this.classList.toggle('selected');
                updateProgress();
            });
        });
        
        // 预算偏好选择
        document.querySelectorAll('.radio-option[data-budget]').forEach(option => {
            option.addEventListener('click', function() {
                // 移除其他选项的选中状态
                document.querySelectorAll('.radio-option[data-budget]').forEach(opt => opt.classList.remove('selected'));
                // 添加选中状态
                this.classList.add('selected');
                updateProgress();
            });
        });
        
        // 出行同伴选择
        document.querySelectorAll('.radio-option[data-companion]').forEach(option => {
            option.addEventListener('click', function() {
                // 移除其他选项的选中状态
                document.querySelectorAll('.radio-option[data-companion]').forEach(opt => opt.classList.remove('selected'));
                // 添加选中状态
                this.classList.add('selected');
                updateProgress();
            });
        });
        
        // 更新进度条
        function updateProgress() {
            const selectedInterests = document.querySelectorAll('.interest-tag.selected').length;
            const selectedBudget = document.querySelector('.radio-option[data-budget].selected');
            const selectedCompanion = document.querySelector('.radio-option[data-companion].selected');
            
            let progress = 0;
            if (selectedInterests > 0) progress += 33;
            if (selectedBudget) progress += 33;
            if (selectedCompanion) progress += 34;
            
            // 更新进度条
            document.querySelector('.progress-bar').style.width = progress + '%';
            
            // 更新步骤指示器
            const step1 = document.querySelector('.step-indicator:nth-child(1)');
            const step2 = document.querySelector('.step-indicator:nth-child(3)');
            const step3 = document.querySelector('.step-indicator:nth-child(5)');
            
            if (selectedInterests > 0) {
                step1.classList.remove('active', 'inactive');
                step1.classList.add('completed');
            }
            
            if (selectedBudget) {
                step2.classList.remove('active', 'inactive');
                step2.classList.add('completed');
            }
            
            if (selectedCompanion) {
                step3.classList.remove('active', 'inactive');
                step3.classList.add('completed');
            }
            
            // 更新步骤文字
            if (progress >= 100) {
                document.querySelector('.step-indicator:nth-child(5)').classList.add('active');
                document.querySelector('p.text-center.text-sm').textContent = '设置完成 - 准备开始您的精彩旅程！';
            } else if (progress >= 66) {
                document.querySelector('.step-indicator:nth-child(3)').classList.add('active');
                document.querySelector('p.text-center.text-sm').textContent = '步骤 3 / 3 - 选择您的出行同伴';
            } else if (progress >= 33) {
                document.querySelector('.step-indicator:nth-child(3)').classList.add('active');
                document.querySelector('p.text-center.text-sm').textContent = '步骤 2 / 3 - 选择您的预算偏好';
            }
        }
        
        // 完成设置按钮
        document.getElementById('complete-onboarding').addEventListener('click', function() {
            const selectedInterests = Array.from(document.querySelectorAll('.interest-tag.selected')).map(tag => tag.dataset.interest);
            const selectedBudget = document.querySelector('.radio-option[data-budget].selected')?.dataset.budget;
            const selectedCompanion = document.querySelector('.radio-option[data-companion].selected')?.dataset.companion;
            if (selectedInterests.length === 0) {
                alert('请至少选择一个您感兴趣的目的地类型');
                return;
            }
            if (!selectedBudget) {
                alert('请选择您的预算偏好');
                return;
            }
            if (!selectedCompanion) {
                alert('请选择您的出行同伴');
                return;
            }
            const userPreferences = {
                interests: selectedInterests,
                budget: selectedBudget,
                companion: selectedCompanion,
                completedAt: new Date().toISOString()
            };
            localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
            localStorage.setItem('isOnboarded', 'true');
            showSuccessMessage('偏好设置完成！正在为您准备个性化体验...');
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 2000);
        });
        
        // 显示成功消息
        function showSuccessMessage(message) {
            // 创建成功提示
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            successDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <i class="fas fa-check-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(successDiv);
            
            // 3秒后移除提示
            setTimeout(() => {
                successDiv.remove();
            }, 3000);
        }
        
        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            if (localStorage.getItem('isOnboarded') === 'true') {
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>
